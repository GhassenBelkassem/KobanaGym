<div class="row">
  <!-- --------------------------------------------------------------------------- -->
  <!-- Sales Overview -->
  <!-- --------------------------------------------------------------------------- -->
  <div class="col-lg-12">
    <mat-card class="cardWithShadow">
      <mat-card-content class="p-24">
        <div class="d-flex w-100">
          <mat-card-title>Sales Overview</mat-card-title>
          <div class="m-l-auto">
            <mat-form-field class="theme-select" appearance="outline">
              <mat-select value="mar">
                <mat-option *ngFor="let month of months" [value]="month.value">
                  {{ month.viewValue }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <apx-chart
          [series]="salesOverviewChart.series"
          [dataLabels]="salesOverviewChart.dataLabels"
          [chart]="salesOverviewChart.chart"
          [legend]="salesOverviewChart.legend"
          [xaxis]="salesOverviewChart.xaxis"
          [yaxis]="salesOverviewChart.yaxis"
          [grid]="salesOverviewChart.grid"
          [stroke]="salesOverviewChart.stroke"
          [tooltip]="salesOverviewChart.tooltip"
          [plotOptions]="salesOverviewChart.plotOptions"
        ></apx-chart>
      </mat-card-content>
    </mat-card>
  </div>
  <!-- --------------------------------------------------------------------------- -->
  <!-- end Sales overview -->
  <!-- --------------------------------------------------------------------------- -->

      <!-- --------------------------------------------------------------------------- -->
      <!-- Yearly Breakup -->
      <!-- --------------------------------------------------------------------------- -->
      <div class="col-lg-4">
        <mat-card class="cardWithShadow">
          <mat-card-content class="p-24">
            <mat-card-title>Yearly Breakup</mat-card-title>
            <div class="row m-t-24">
              <div class="col-7">
                <h4 class="mat-headline-5">$36,358</h4>
                <div class="d-flex align-items-center m-t-16">
                  <button
                    mat-mini-fab
                    class="bg-light-success text-success shadow-none icon-27"
                  >
                    <i-tabler name="arrow-up-right" class="icon-20"></i-tabler>
                  </button>
                  <div class="mat-body-1 f-w-600 m-l-12">+9%</div>
                  <div class="mat-body-1 m-l-4">last year</div>
                </div>

                <div class="d-flex align-items-center m-t-32">
                  <div class="d-flex align-items-center">
                    <i-tabler
                      name="circle-filled"
                      class="text-primary icon-12 d-flex"
                    ></i-tabler>
                    <div class="mat-body-1 m-l-12">2023</div>
                  </div>
                  <div class="d-flex align-items-center m-l-16">
                    <i-tabler
                      name="circle-filled"
                      class="text-light-primary icon-12 d-flex"
                    ></i-tabler>
                    <div class="mat-body-1 m-l-12">2022</div>
                  </div>
                </div>
              </div>
              <div class="col-5 d-flex align-items-start">
                <apx-chart
                  [series]="yearlyChart.series"
                  [dataLabels]="yearlyChart.dataLabels"
                  [chart]="yearlyChart.chart"
                  [legend]="yearlyChart.legend"
                  [colors]="yearlyChart.colors"
                  [stroke]="yearlyChart.stroke"
                  [tooltip]="yearlyChart.tooltip"
                  [plotOptions]="yearlyChart.plotOptions"
                  [responsive]="yearlyChart.responsive"
                ></apx-chart>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
      <!-- --------------------------------------------------------------------------- -->
      <!-- Monthly Earnings -->
      <!-- --------------------------------------------------------------------------- 
      <div class="col-lg-4">
        <mat-card class="cardWithShadow">
          <mat-card-header class="d-flex align-items-center p-x-24">
            <mat-card-title>Monthly Earnings</mat-card-title>
            <div class="m-l-auto">
              <button mat-fab color="accent" class="shadow-none icon-48">
                <i-tabler
                  name="currency-dollar"
                  class="text-white d-flex"
                ></i-tabler>
              </button>
            </div>
          </mat-card-header>
          <mat-card-content class="m-b-32 p-x-24">
            <h4 class="mat-headline-5">$6,820</h4>
            <div class="d-flex align-items-center m-t-16">
              <button
                mat-mini-fab
                class="bg-light-error text-error shadow-none icon-27"
              >
                <i-tabler name="arrow-down-right" class="icon-20"></i-tabler>
              </button>
              <div class="mat-body-1 f-w-600 m-l-12">+9%</div>
              <div class="mat-body-1 m-l-4">last year</div>
            </div>
          </mat-card-content>
          
        </mat-card>
      </div> -->
      <div class="col-lg-4">
        <mat-card class="cardWithShadow">
          <mat-card-content class="p-24">
            <mat-card-title>Revenue Breakdown by Category</mat-card-title>
            <apx-chart
              [series]="revenueBreakdownChart.series"
              [chart]="revenueBreakdownChart.chart"
              [labels]="revenueBreakdownChart.labels"
              [colors]="revenueBreakdownChart.colors"
              [legend]="revenueBreakdownChart.legend"
              [tooltip]="revenueBreakdownChart.tooltip"
            ></apx-chart>
          </mat-card-content>
        </mat-card>
      </div> 


<div class="col-lg-4">
    <mat-card class="cardWithShadow">
      <mat-card-content class="p-24">
        <mat-card-title>Recent Transactions</mat-card-title>

        <div class="timeline m-t-24">
          <div
            class="timeline-item d-flex overflow-hidden"
            *ngFor="let stat of stats"
          >
            <div class="time text-right mat-subtitle-1 f-s-14">
              {{ stat.time }}
            </div>
            <div class="point d-flex align-items-center">
              <span class="timeline-badge border-{{ stat.color }} m-y-8"></span>
              <span class="timline-border d-block"></span>
            </div>
            <div class="desc">
              <ng-template [ngIf]="stat.subtext">
                <span class="mat-subtitle-1 f-s-14 lh-20">{{
                  stat.subtext
                }}</span>
              </ng-template>
              <ng-template [ngIf]="stat.title">
                <span class="mat-subtitle-1 f-s-14 lh-20 f-w-600 d-block">{{
                  stat.title
                }}</span>
              </ng-template>
              <ng-template [ngIf]="stat.link">
                <a href="#" class="text-primary text-decoration-none mat-body-1"
                  >#ML-3467</a
                >
              </ng-template>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
<div class="col-lg-12">
  <mat-card class="cardWithShadow">
    <mat-card-content class="p-24">
      <mat-card-title>Top Projects</mat-card-title>
      <mat-form-field class="w-full mb-4">
        <mat-label>Filtrer</mat-label>
        <input matInput (keyup)="applyFilter($event)" placeholder="Filtrer par nom" #input>
      </mat-form-field>
      
      <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource" matSort class="min-w-full divide-y divide-gray-200">

          <!-- Username Column -->
          <ng-container matColumnDef="username">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-gray-50 text-left text-gray-600"> Nom d'utilisateur </th>
            <td mat-cell *matCellDef="let row" 
                class="px-6 py-4 whitespace-nowrap cursor-pointer hover:bg-gray-100"
                (click)="show(row)"
                [ngClass]="{'hover:bg-gray-100': true}">
              {{row.username}}
            </td>
          </ng-container>

          <!-- Age Column -->
          <ng-container matColumnDef="age">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-gray-50 text-left text-gray-600"> Âge </th>
            <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap"> {{row.age}} </td>
          </ng-container>

          <!-- Date Joined Column -->
          <ng-container matColumnDef="dateJoined">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-gray-50 text-left text-gray-600"> Date d'inscription </th>
            <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap"> {{row.dateJoined}} </td>
          </ng-container>

          <!-- Date End Column -->
          <ng-container matColumnDef="dateEnd">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-gray-50 text-left text-gray-600"> Date de fin </th>
            <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap"> {{row.dateEnd}} </td>
          </ng-container>

          <!-- Status Column -->
          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-gray-50 text-left text-gray-600"> Statut </th>
            <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap">
              <span [ngClass]="{
                'text-red-600': row.status === 'Non Payé',
                'text-green-600': row.status === 'Payé'
              }">
                {{row.status}}
              </span>
            </td>
          </ng-container>

          <!-- Action Column -->
          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef class="bg-gray-50 text-left text-gray-600"> Actions </th>
            <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap">
              <button mat-icon-button aria-label="Supprimer l'utilisateur">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="text-red-600"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19 2h-14a3 3 0 0 0 -3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3 -3v-14a3 3 0 0 0 -3 -3zm-9.387 6.21l.094 .083l2.293 2.292l2.293 -2.292a1 1 0 0 1 1.497 1.32l-.083 .094l-2.292 2.293l2.292 2.293a1 1 0 0 1 -1.32 1.497l-.094 -.083l-2.293 -2.292l-2.293 2.292a1 1 0 0 1 -1.497 -1.32l.083 -.094l2.292 -2.293l-2.292 -2.293a1 1 0 0 1 1.32 -1.497z" /></svg>
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

          <!-- Row shown when there is no matching data. -->
          <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" colspan="6">Aucune donnée correspondant au filtre "{{input.value}}"</td>
          </tr>
        </table>

        <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Sélectionnez la page des utilisateurs"></mat-paginator>
      </div> 
    </mat-card-content>
  </mat-card>
</div>
