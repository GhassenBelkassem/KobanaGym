<div class="container mx-auto px-4">
  <div class="w-full">
    <mat-card class="cardWithShadow">
      <mat-card-title class="flex justify-center w-full text-[50px] font-bold mb-12 gap-2 pt-4 font-extrabold text-2xl md:text-3xl dark:text-white">
        Gestion des Séances
      </mat-card-title>

      <mat-card-content class="p-6 md:p-12">
        <!-- Session -->
        <mat-accordion>
          <mat-expansion-panel class="mb-4 p-4 shadow-lg rounded-lg" (opened)="panelOpenState.set(true)" (closed)="panelOpenState.set(false)">
            <mat-expansion-panel-header>
              <mat-panel-title>KickBoxing</mat-panel-title>
              <mat-panel-description>
                Mohamed Salah
              </mat-panel-description>
            </mat-expansion-panel-header>

            <!-- Filter Input -->
            <mat-form-field class="w-full mb-4">
              <mat-label>Filtrer</mat-label>
              <input matInput (keyup)="applyFilter($event)" placeholder="Filtrer par nom" #input>
            </mat-form-field>
            
            <div class="mat-elevation-z8">
              <table mat-table [dataSource]="dataSource" matSort class="min-w-full divide-y divide-gray-200">

                <!-- Username Column -->
                <ng-container matColumnDef="username">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-gray-50 text-left text-gray-600"> Nom d'utilisateur </th>
                  <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap"> {{row.username}} </td>
                </ng-container>

                <!-- Age Column -->
                <ng-container matColumnDef="age">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-gray-50 text-left text-gray-600"> Âge </th>
                  <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap"> {{row.age}} </td>
                </ng-container>

                <!-- Date Joined Column -->
                <ng-container matColumnDef="dateJoined">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-gray-50 text-left text-gray-600"> Date d'inscription </th>
                  <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap"> {{row.dateJoined}} </td>
                </ng-container>

                <!-- Date End Column -->
                <ng-container matColumnDef="dateEnd">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-gray-50 text-left text-gray-600"> Date de fin </th>
                  <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap"> {{row.dateEnd}} </td>
                </ng-container>

                <!-- Status Column -->
                <ng-container matColumnDef="status">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-gray-50 text-left text-gray-600"> Statut </th>
                  <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap">
                    <span [ngClass]="{
                      'text-red-600': row.status === 'Non Payé',
                      'text-green-600': row.status === 'Payé'
                    }">
                      {{row.status}}
                    </span>
                  </td>
                </ng-container>

                <!-- Action Column -->
                <ng-container matColumnDef="actions">
                  <th mat-header-cell *matHeaderCellDef class="bg-gray-50 text-left text-gray-600"> Actions </th>
                  <td mat-cell *matCellDef="let row" class="px-6 py-4 whitespace-nowrap">
                    <button mat-icon-button aria-label="Supprimer l'utilisateur">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="text-red-600"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19 2h-14a3 3 0 0 0 -3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3 -3v-14a3 3 0 0 0 -3 -3zm-9.387 6.21l.094 .083l2.293 2.292l2.293 -2.292a1 1 0 0 1 1.497 1.32l-.083 .094l-2.292 2.293l2.292 2.293a1 1 0 0 1 -1.32 1.497l-.094 -.083l-2.293 -2.292l-2.293 2.292a1 1 0 0 1 -1.497 -1.32l.083 -.094l2.292 -2.293l-2.292 -2.293a1 1 0 0 1 1.32 -1.497z" /></svg>
                    </button>
                  </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="hover:bg-gray-100"></tr>

                <!-- Row shown when there is no matching data. -->
                <tr class="mat-row" *matNoDataRow>
                  <td class="mat-cell" colspan="6">Aucune donnée correspondant au filtre "{{input.value}}"</td>
                </tr>
              </table>

              <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Sélectionnez la page des utilisateurs"></mat-paginator>
            </div>     
            <div class="col-12 flex justify-left pt-4">
              <button
                (click)="show()" label="Show"
                mat-flat-button
                color="warn"
                class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-red-600 hover:bg-red-700 md:py-4 md:text-lg md:px-10"
              >
                Supprimer
              </button>
              </div>     
          </mat-expansion-panel>
        </mat-accordion>        

        <!-- Button -->
        <div class="col-12 flex justify-left pt-4">
          <button
            (click)="addSeance()"
            mat-flat-button
            color="success"
            class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10"
          >
            Ajouter une séance
          </button>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
